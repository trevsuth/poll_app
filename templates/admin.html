<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
</head>
<body>
    <h1>Admin Panel</h1>
    <input type="text" id="pollId" placeholder="Enter Poll ID" required>
    <button onclick="fetchResults()">Load Results</button>
    <div id="resultsDisplay"></div>
    <button onclick="resetPoll()">Reset Poll</button>

    <script>
        function fetchResults() {
            const pollId = document.getElementById('pollId').value;
            fetch(`/results/${pollId}`) // Adjust this URL based on your actual API endpoint
                .then(response => response.json())
                .then(results => {
                    displayResults(results);
                });
        }

        function displayResults(results) {
            const display = document.getElementById('resultsDisplay');
            display.innerHTML = ''; // Clear previous results
            results.forEach(result => {
                let p = document.createElement('p');
                p.textContent = `${result.answer}: ${result.count}`;
                display.appendChild(p);
            });
        }

        function resetPoll() {
            const pollId = document.getElementById('pollId').value;
            fetch(`/reset/${pollId}`, {
                method: 'POST'
            })
            .then(response => response.text())
            .then(result => {
                alert('Poll reset: ' + result);
                document.getElementById('resultsDisplay').innerHTML = '';
            });
        }
    </script>
</body>
</html>
